<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Test 2</title>
    <style type="text/css">
        #canvas {
            border-style: dashed;
            border-width: 2px;
            border-color: black;
        }
    </style>
    <script type="text/javascript" src="../CanvasPlot.js"></script>
</head>
<body>
    <header>
        <h1>Test 2</h1>
    </header>
    <main>
        <canvas id="canvas" height="400" width="600">
            
        </canvas>
    </main>
    <script type="text/javascript">
        const canvas = document.getElementById("canvas");
        const cp = new CanvasPlot(canvas);

        function linspace(a,b,d) {
            let arr = []
            if (!d) d = 1
            let x, old_x;
            for (x = a, old_x = a; x <= b; old_x = x, x += d) {
                arr.push(x)
            }
            if (old_x < b) {
                arr.push(b);
            }
            return arr
        }

        // genera una sequenza di punti {x,y}
        // dall'array x
        function genFun(x, fun) {
            return Array.from(x).map((value, index) => new Vec2(value, fun(value, index)))
        }

        // stampa il grafico
        let fun = [
            x => x,
            x => Math.sin(x*10),
            x => Math.cos(x*10),
            x => x*x
        ];
        
        /*console.log(p)
        p2 = cp.scale(p)
        cp.plot(p2)*/
        
        //let points = genFun(x,fun);
        let x = linspace(-1,1,0.005);
        //let p = Vec2.Zip(x,x);
        for (let f of fun) {
            let y = Array.from(x).map(f);
            let p = Vec2.Zip(x,y);

            //let pp = cp.scale(p);
            //cp.plot(pp);
            cp.scaleAndPlot(p);
        }

    </script>
</body>
</html>